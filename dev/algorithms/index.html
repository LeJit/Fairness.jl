<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Fairness Algortihms · MLJFair</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">MLJFair</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../fairtensor/">FairTensor</a></li><li><a class="tocitem" href="../measures/">Measures</a></li><li class="is-active"><a class="tocitem" href>Fairness Algortihms</a><ul class="internal"><li><a class="tocitem" href="#Introduction"><span>Introduction</span></a></li><li><a class="tocitem" href="#Preprocessing-Algorithms"><span>Preprocessing Algorithms</span></a></li><li><a class="tocitem" href="#Postprocessing"><span>Postprocessing</span></a></li><li><a class="tocitem" href="#Composability"><span>Composability</span></a></li></ul></li><li><a class="tocitem" href="../datasets/">Datasets</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Fairness Algortihms</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Fairness Algortihms</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ashryaagr/MLJFair.jl/blob/master/docs/src/algorithms.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Fairness-Algorithms"><a class="docs-heading-anchor" href="#Fairness-Algorithms">Fairness Algorithms</a><a id="Fairness-Algorithms-1"></a><a class="docs-heading-anchor-permalink" href="#Fairness-Algorithms" title="Permalink"></a></h1><p>MLJFair provides with various algorithms that can help in mitigating bias and improving fairness metrics.</p><h2 id="Introduction"><a class="docs-heading-anchor" href="#Introduction">Introduction</a><a id="Introduction-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction" title="Permalink"></a></h2><p>These algorithms are wrappers. As demonstrated in last section, these wrappers can be used to compose a complex pipeline with more than 1 fairness algorithm. These wrappers can be used only with binary classifiers. These fairness algorithms have been divided into 3 categories based on the parts in the pipeline that the algorithm can control. These 3 categories are Preprocessing, Postprocessing and Inprocessing[WIP].</p><h2 id="Preprocessing-Algorithms"><a class="docs-heading-anchor" href="#Preprocessing-Algorithms">Preprocessing Algorithms</a><a id="Preprocessing-Algorithms-1"></a><a class="docs-heading-anchor-permalink" href="#Preprocessing-Algorithms" title="Permalink"></a></h2><p>These are the algorithms that have control over the training data to be fed into machine learning model. This class of algorithms improves the representation of groups in the training data.</p><h3 id="ReweighingSampling-Algorithm"><a class="docs-heading-anchor" href="#ReweighingSampling-Algorithm">ReweighingSampling Algorithm</a><a id="ReweighingSampling-Algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#ReweighingSampling-Algorithm" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="MLJFair.ReweighingSamplingWrapper" href="#MLJFair.ReweighingSamplingWrapper"><code>MLJFair.ReweighingSamplingWrapper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ReweighingSamplingWrapper</code></pre><p>ReweighingSamplingWrapper is a preprocessing algorithm wrapper in which Weights for each group-label combination is calculated. Using the calculated weights, rows are sampled uniformly. The weight is used to sample uniformly. The number of datapoints used to train after sampling from the reweighed dataset can be controlled by <code>factor</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/MLJFair.jl/blob/6a3a78a2e30ef426d37f50baa3899b442568efba/src/algorithms/preprocessing/reweighing.jl#LL78-L84">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>MLJFair.ReweighingSamplingWrapper(::MLJBase.Model)</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="Reweighing-Algorithm"><a class="docs-heading-anchor" href="#Reweighing-Algorithm">Reweighing Algorithm</a><a id="Reweighing-Algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Reweighing-Algorithm" title="Permalink"></a></h3><p>This model being wrapped with this wrapper needs to support weights. If the model doesn&#39;t support training using weights, then error is thrown. In case weights are not supported by your desired model, them switch to ReweighingSampling Algorithm. To find the models in MLJ that support weights, execute:</p><pre><code class="language-julia">using MLJ
models(x-&gt; x.supports_weights)</code></pre><article class="docstring"><header><a class="docstring-binding" id="MLJFair.ReweighingWrapper" href="#MLJFair.ReweighingWrapper"><code>MLJFair.ReweighingWrapper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ReweighingWrapper</code></pre><p>ReweighingWrapper is a preprocessing algorithm wrapper in which Weights for each group-label combination is calculated. These calculated weights are then passed to the classifier model which further uses it to make training fair.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/MLJFair.jl/blob/6a3a78a2e30ef426d37f50baa3899b442568efba/src/algorithms/preprocessing/reweighing.jl#LL24-L29">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>MLJFair.ReweighingWrapper(::MLJBase.Model)</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="MLJFair._calculateWeights" href="#MLJFair._calculateWeights"><code>MLJFair._calculateWeights</code></a> — <span class="docstring-category">Function</span></header><section><div><p>Helper function for ReweighingWrapper and ReweighingSamplingWrapper. grps is an array of values of protected attribute. y is an array of ground truth values. Array of (Frequency) weights are returned from this function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/MLJFair.jl/blob/6a3a78a2e30ef426d37f50baa3899b442568efba/src/algorithms/preprocessing/reweighing.jl#LL1-L5">source</a></section></article><h2 id="Postprocessing"><a class="docs-heading-anchor" href="#Postprocessing">Postprocessing</a><a id="Postprocessing-1"></a><a class="docs-heading-anchor-permalink" href="#Postprocessing" title="Permalink"></a></h2><p>These are the algorithms that have control over the final predictions. They can tweak final predictions to optimise fairness constraints.</p><h3 id="Equalized-Odds-Algorithm"><a class="docs-heading-anchor" href="#Equalized-Odds-Algorithm">Equalized Odds Algorithm</a><a id="Equalized-Odds-Algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#Equalized-Odds-Algorithm" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="MLJFair.EqOddsWrapper" href="#MLJFair.EqOddsWrapper"><code>MLJFair.EqOddsWrapper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">EqOddsWrapper</code></pre><p>It is a postprocessing algorithm which uses Linear Programming to optimise the constraints for Equalized Odds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/MLJFair.jl/blob/6a3a78a2e30ef426d37f50baa3899b442568efba/src/algorithms/postprocessing/eqOdds.jl#LL1-L5">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>MLJFair.EqOddsWrapper(::MLJBase.Model)</code>. Check Documenter&#39;s build log for details.</p></div></div><h3 id="LinProg-Algorithm"><a class="docs-heading-anchor" href="#LinProg-Algorithm">LinProg Algorithm</a><a id="LinProg-Algorithm-1"></a><a class="docs-heading-anchor-permalink" href="#LinProg-Algorithm" title="Permalink"></a></h3><p>This algorithm supports all the metrics provided by MLJFair.</p><article class="docstring"><header><a class="docstring-binding" id="MLJFair.LinProgWrapper" href="#MLJFair.LinProgWrapper"><code>MLJFair.LinProgWrapper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">LinProgWrapper</code></pre><p>It is a postprocessing algorithm that uses JuMP and Ipopt library to minimise error and satisfy the equality of specified specified measures for all groups at the same time. Automatic differentiation and gradient based optimisation is used to find probabilities with which the predictions are changed for each group.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ashryaagr/MLJFair.jl/blob/6a3a78a2e30ef426d37f50baa3899b442568efba/src/algorithms/postprocessing/linprog.jl#LL20-L25">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>MLJFair.LinProgWrapper(::MLJBase.Model)</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Composability"><a class="docs-heading-anchor" href="#Composability">Composability</a><a id="Composability-1"></a><a class="docs-heading-anchor-permalink" href="#Composability" title="Permalink"></a></h2><p>MLJFair provides you the ability to easily use multiple fairness algorithms on top of each other. A fairness algorithm can be added over another fairness algorithm by simply wrapping the previous wrapped model with the new wrapper. MLJFair handles everything else for you! The use of wrappers provides you the ability to add as many algorithms as you want!!</p><pre><code class="language-julia-repl">julia&gt; using MLJFair, MLJ

julia&gt; X, y, _ = @load_toydata;

julia&gt; model = ConstantClassifier();

julia&gt; wrappedModel = ReweighingSamplingWrapper(model; grp=:Sex);
ERROR: MethodError: no method matching ReweighingSamplingWrapper(::ConstantClassifier; grp=:Sex)
Closest candidates are:
  ReweighingSamplingWrapper(; classifier, grp, factor, rng) at /home/travis/build/ashryaagr/MLJFair.jl/src/algorithms/preprocessing/reweighing.jl:101
  ReweighingSamplingWrapper(!Matched::Symbol, !Matched::M, !Matched::Float64, !Matched::Union{Int64, Random.AbstractRNG}) where M&lt;:Model at /home/travis/build/ashryaagr/MLJFair.jl/src/algorithms/preprocessing/reweighing.jl:86 got unsupported keyword argument &quot;grp&quot;

julia&gt; wrappedModel2 = EqOddsWrapper(wrappedModel; grp=:Sex);
ERROR: UndefVarError: wrappedModel not defined

julia&gt; mch = machine(wrappedModel2, X, y);
ERROR: UndefVarError: wrappedModel2 not defined

julia&gt; fit!(mch)
ERROR: UndefVarError: mch not defined

julia&gt; ŷ = predict(mch, X);
ERROR: UndefVarError: mch not defined</code></pre></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../measures/">« Measures</a><a class="docs-footer-nextpage" href="../datasets/">Datasets »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 21 July 2020 08:50">Tuesday 21 July 2020</span>. Using Julia version 1.4.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
